{"ast":null,"code":"import _objectSpread from\"/home/teme/.git/fsopen/c1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/teme/.git/fsopen/c1/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import Note from'./components/Note';import Notification from'./components/Notification';import Footer from'./components/Footer';import noteServ from'./services/notes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newNote=_useState4[0],setNewNote=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showAll=_useState6[0],setShowAll=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setError=_useState8[1];useEffect(function(){noteServ.getAll().then(function(initialNotes){setNotes(initialNotes);});},[]);var addNote=function addNote(e){e.preventDefault();var noteObject={content:newNote,important:Math.random()>0.5};noteServ.create(noteObject).then(function(returnedNote){setNotes(notes.concat(returnedNote));setNewNote('');});};var handleNoteChange=function handleNoteChange(e){setNewNote(e.target.value);};var notesToShow=showAll?notes:notes.filter(function(n){return n.important;});var _toggleImportance=function toggleImportance(id){var note=notes.find(function(n){return n.id===id;});var changedNote=_objectSpread(_objectSpread({},note),{},{important:!note.important});noteServ.update(id,changedNote).then(function(returnedNote){setNotes(notes.map(function(n){return n.id!==id?n:returnedNote;}));}).catch(function(e){setError(\"Note '\".concat(note.content,\"' was already removed from server\"));setTimeout(function(){setError(null);},5000);setNotes(notes.filter(function(n){return n.id!==id;}));});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Notes app\"}),/*#__PURE__*/_jsx(Notification,{message:errorMessage}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setShowAll(!showAll);},children:[\"show \",showAll?'important':'all']})}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"ul\",{children:notesToShow.map(function(n){return/*#__PURE__*/_jsx(Note,{note:n,toggleImportance:function toggleImportance(){return _toggleImportance(n.id);}},n.id);})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNote,children:[/*#__PURE__*/_jsx(\"input\",{value:newNote,onChange:handleNoteChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"save\"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"names":["useState","useEffect","Note","Notification","Footer","noteServ","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","notes","setNotes","_useState3","_useState4","newNote","setNewNote","_useState5","_useState6","showAll","setShowAll","_useState7","_useState8","errorMessage","setError","getAll","then","initialNotes","addNote","e","preventDefault","noteObject","content","important","Math","random","create","returnedNote","concat","handleNoteChange","target","value","notesToShow","filter","n","toggleImportance","id","note","find","changedNote","_objectSpread","update","map","catch","setTimeout","children","message","onClick","onSubmit","onChange","type"],"sources":["/home/teme/.git/fsopen/c1/frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport Note from './components/Note'\nimport Notification from './components/Notification'\nimport Footer from './components/Footer'\nimport noteServ from './services/notes'\n\nconst App = () => {\n    const [notes, setNotes] = useState([])\n    const [newNote, setNewNote] = useState('')\n    const [showAll, setShowAll] = useState(true)\n    const [errorMessage, setError] = useState(null)\n\n    useEffect(() => {\n        noteServ\n          .getAll()\n          .then(initialNotes => {\n              setNotes(initialNotes)\n          })\n    }, [])\n\n    const addNote = (e) => {\n        e.preventDefault()\n        const noteObject = {\n            content: newNote,\n            important: Math.random() > 0.5,\n        }\n\n        noteServ\n          .create(noteObject)\n            .then(returnedNote => {\n                setNotes(notes.concat(returnedNote))\n            setNewNote('')\n            })\n    }\n\n    const handleNoteChange = (e) => {\n        setNewNote(e.target.value)\n    }\n\n    const notesToShow = showAll ? notes : notes.filter(n => n.important)\n\n    const toggleImportance = id => {\n        const note = notes.find(n => n.id === id)\n        const changedNote = { ...note, important: !note.important }\n\n        noteServ\n            .update(id, changedNote).then(returnedNote => {\n                setNotes(notes.map(n => n.id !== id ? n : returnedNote))\n            })\n            .catch(e => {\n                setError( `Note '${note.content}' was already removed from server`)\n                setTimeout(() => { setError(null) }, 5000)\n                setNotes(notes.filter(n => n.id !== id))\n            })\n    }\n\n    return (\n        <>\n        <h1>Notes app</h1>\n        <Notification message={errorMessage} />\n        <div>\n            <button onClick={() => setShowAll(!showAll)}>\n                show {showAll ? 'important' : 'all' }\n            </button>\n        </div>\n        <ul>\n            <ul>\n            {notesToShow.map(n =>\n                <Note key={n.id}\n                    note={n}\n                    toggleImportance={() => toggleImportance(n.id)}\n                />\n            )}\n            </ul>\n        </ul>\n        <form onSubmit={addNote}>\n            <input value={newNote} onChange={handleNoteChange} />\n            <button type=\"submit\">save</button>\n        </form>\n        <Footer />\n        </>\n    )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}